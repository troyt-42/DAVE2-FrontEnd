!function(){"use strict";function e(e,t,a){var l=this,n=angular.element("#container");l.loading=!0,a.on("importersInfo",function(e){console.log(e)}),a.on("importersData",function(e){n.highcharts("StockChart",{chart:{zoomType:"x",type:"areaspline"},title:{text:"Data Item 58-B9-E1-F1-87-89"},tooltip:{pointFormat:' | <span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b>',positioner:function(){return{x:10,y:100}},crosshairs:{dashStyle:"dash",color:"orange"}},plotOptions:{series:{tooltip:{dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L"}},marker:{states:{hover:{fillColor:"orange"}}},animation:!1,states:{hover:!1}}},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%e  %b %Y",month:"%b"},events:{afterSetExtremes:function(){n.highcharts().showLoading("Loading data from server..."),a.emit("displayRquest",{min:this.min,max:this.max})}},minRange:6048e5},navigator:{adaptToUpdatedData:!1,series:{data:e}},scrollbar:{liveRedraw:!1},rangeSelector:{enabled:!0,allButtonsEnabled:!0,buttons:[{type:"day",count:3,text:"3d"},{type:"week",count:1,text:"1w"},{type:"month",count:1,text:"1m"},{type:"month",count:6,text:"6m"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],selected:2},series:[{name:"Data Point",data:e}]});var t=[],o=[];console.log(e.slice(0,100));for(var s=new Date(e[0][0]),i=new Date(e[e.length-1][0]),m=i.getFullYear(),d=s.getFullYear(),r=m-d,u=d;m>u;u++){t.push({id:"id_"+u,name:"Data of "+u,value:12,max:4321.241,min:1932.49,average:3284.531,dataLabels:{enabled:!0,format:'<span style="; text-shadow:none">Complete Data of<br><span style=";color:red;text-shadow:none">'+u+"</span></span>",verticalAlign:"middle"}});for(var c=1;4>=c;c++)t.push({id:"id_"+u+"_"+c,parent:"id_"+u,name:"Data of "+u+" "+c,value:1})}console.log(t.length);for(var b=d;m>b;b++)o.push([Date.UTC(b,0,0,0),12]);angular.element("#container2").highcharts("StockChart",{chart:{animation:!0},tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{point.name}</span><br>| <b>Max: </b>{point.max}<br>| <b>Min: </b>{point.min}<br>| <b>Average: </b>{point.average}',borderColor:"#3A8AD3",borderRadius:5},rangeSelector:{buttons:[{type:"millisecond",count:100/r*1,text:"1 item"},{type:"millisecond",count:100/r*2,text:"2 item"},{type:"millisecond",count:100/r*4,text:"4 items"},{type:"millisecond",count:100/r*8,text:"8 items"},{type:"millisecond",count:100/r*10,text:"10 items"}],selected:4},navigator:{enabled:!1,adaptToUpdatedData:!1,xAxis:{floor:0,ceiling:100,dateTimeLabelFormats:{millisecond:"%L",day:"%L"}}},xAxis:{events:{afterSetExtremes:function(){console.log(this)}}},plotOptions:{series:{dataGrouping:{enabled:!1}},treemap:{states:{hover:{enabled:!1}}}},series:[{type:"treemap",layoutAlgorithm:"stripes",allowDrillToNode:!0,dataLabels:{enabled:!1},levelIsConstant:!1,levels:[{level:1,dataLabels:{enabled:!0,style:{fontSize:"1.3em"}},borderWidth:3,borderColor:"white",color:"black"},{level:2,borderColor:"#3A8AD3"}],data:t}],subtitle:{text:"Data Table"},title:{text:"58-B9-E1-F1-87-89"}});for(var p=[],I=0;100>I;I++){var C=new Date(e[I][0]);p.push([C.toUTCString(),e[I][1]])}l.tableData=p,l.loading=!1}),a.on("displayResponse",function(e){console.log(e),n.highcharts().series[0].setData(e),n.highcharts().hideLoading();for(var t=[],a=0;100>a;a++){var o=new Date(e[a][0]);t.push([o.toUTCString(),e[a][1]])}l.tableData=t})}function t(e,t,a,l,n,o,s){function i(){l.remove("dataItemListTableColumns"),void 0===l.getObject("dataItemListTableColumns")&&l.putObject("dataItemListTableColumns",C.dataItemListTableColumns),C.dataItemListTableColumns=l.getObject("dataItemListTableColumns"),C.avaliableDataItemTableColumns=l.getObject("avaliableDataItemTableColumns")||[],n.emit("requestDataItemList"),C.promiseToSolve=t(function(){for(var e=!1,t=0;t<C.alerts.length;t++)"Loading Importer List Failed. Please Check Your Internet Connection."===C.alerts[t].msg&&(e=!0);e||C.alerts.push({type:"danger",msg:"Loading Importer List Failed. Please Check Your Internet Connection."}),C.systemStatus="Error"},5e3),s.writeState("hasMenu",!1)}function m(e,t){0!==C.avaliableDataItemTableColumns.length&&(C.dataItemListTableColumns[e.index-1].status=!0,C.avaliableDataItemTableColumns.splice(t,1),l.putObject("dataItemListTableColumns",C.dataItemListTableColumns),l.putObject("avaliableDataItemTableColumns",C.avaliableDataItemTableColumns))}function d(e,t,a){if(console.log(t),13===e.keyCode)if(t.index===t.newIndex)C.addTableColumn(t,a);else{t.newIndex>C.dataItemListTableColumns.length&&(t.newIndex=C.dataItemListTableColumns.length),t.newIndex<1&&(t.newIndex=1),C.dataItemListTableColumns[t.index-1].index=t.newIndex-1,C.dataItemListTableColumns[t.newIndex-1].index=t.index-1;var n=C.dataItemListTableColumns[t.index-1];C.dataItemListTableColumns[t.index-1]=C.dataItemListTableColumns[t.newIndex-1],C.dataItemListTableColumns[t.newIndex-1]=n,t.index=t.newIndex,console.log(t),console.log(C.avaliableDataItemTableColumns),console.log(C.dataItemListTableColumns),C.addTableColumn(t,a)}l.putObject("dataItemListTableColumns",C.dataItemListTableColumns),l.putObject("avaliableDataItemTableColumns",C.avaliableDataItemTableColumns)}function r(e){for(var t=e-1;t>=0;t--)if(C.dataItemListTableColumns[t].status){var a=C.dataItemListTableColumns[e];a.index=t,C.dataItemListTableColumns[t].index=e,C.dataItemListTableColumns[e]=C.dataItemListTableColumns[t],C.dataItemListTableColumns[t]=a;break}}function u(e){for(var t=e+1;t<C.dataItemListTableColumns.length;t++)if(C.dataItemListTableColumns[t].status){var a=C.dataItemListTableColumns[e];a.index=t,C.dataItemListTableColumns[t].index=e,C.dataItemListTableColumns[e]=C.dataItemListTableColumns[t],C.dataItemListTableColumns[t]=a;break}}function c(e){C.dataItemListTableColumns[e].status=!1,C.avaliableDataItemTableColumns.push({index:e+1,value:C.dataItemListTableColumns[e].name,newIndex:e+1}),console.log(C.avaliableDataItemTableColumns),l.putObject("dataItemListTableColumns",C.dataItemListTableColumns),l.putObject("avaliableDataItemTableColumns",C.avaliableDataItemTableColumns)}function b(e){console.log(e),n.emit("requestDataItem",e)}function p(){angular.element(".js-layout").toggleClass("hidden")}function I(){o.EnterSearchMode("dave-data-item-display-list-page","<dave-data-item-display-list-page></dave-data-item-display-list-page>",".dataItemDisplayContainer",e,a)}var C=this;C.activate=i,C.addTableColumn=m,C.addTableColumnKeyPress=d,C.decreaseColumnIndex=r,C.increaseColumnIndex=u,C.removeColumn=c,C.requestDataItem=b,C.toggleLayOutMenu=p,C.toggleSearchMode=I,C.alerts=[],C.avaliableDataItemTableColumns=[],C.dataItemData=[],C.dataItemList=[],C.dataItemListCurrentPage=1,C.dataItemListTableColumns=[{name:"name",status:!0,index:0},{name:"location",status:!0,index:1},{name:"note",status:!0,index:2},{name:"precision",status:!0,index:3},{name:"unit",status:!0,index:4}],C.promiseToSolve="",C.search={},C.systemStatus="Normal",C.loading=!0,e.$on("socket:ipDataItemListResponse",function(e,a){console.log(e.name),"Normal"===C.systemStatus&&(t.cancel(C.promiseToSolve),1!==a.completeState?C.dataItemList=C.dataItemList.concat(a.list_out):(C.dataItemList=C.dataItemList.concat(a.list_out),C.loading=!1))}),e.$on("socket:ipDataItemResponse",function(e,t){console.log(e.name),1!==t.completeState?C.dataItemData=C.dataItemData.concat(t.list_out):console.log(C.dataItemData.length)}),C.activate()}angular.module("Dave2.DataItemDisplay").controller("DataItemDisplayCtrl",e).controller("DaveDataItemDisplayListPageCtrl",t),e.$inject=["$scope","$timeout","DataItemDisplaySocket"],t.$inject=["$scope","$timeout","$compile","$cookies","DataItemDisplaySocket","DirectiveService","generalStateWRS"]}();