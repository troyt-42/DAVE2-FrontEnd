!function(){"use strict";function e(e,t,a){var l=this,n=angular.element("#container");l.loading=!0,a.on("importersInfo",function(e){console.log(e)}),a.on("importersData",function(e){n.highcharts("StockChart",{chart:{zoomType:"x",type:"areaspline"},title:{text:"Data Item 58-B9-E1-F1-87-89"},tooltip:{pointFormat:' | <span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b>',positioner:function(){return{x:10,y:100}},crosshairs:{dashStyle:"dash",color:"orange"}},plotOptions:{series:{tooltip:{dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L"}},marker:{states:{hover:{fillColor:"orange"}}},animation:!1,states:{hover:!1}}},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%e  %b %Y",month:"%b"},events:{afterSetExtremes:function(){n.highcharts().showLoading("Loading data from server..."),a.emit("displayRquest",{min:this.min,max:this.max})}},minRange:6048e5},navigator:{adaptToUpdatedData:!1,series:{data:e}},scrollbar:{liveRedraw:!1},rangeSelector:{enabled:!0,allButtonsEnabled:!0,buttons:[{type:"day",count:3,text:"3d"},{type:"week",count:1,text:"1w"},{type:"month",count:1,text:"1m"},{type:"month",count:6,text:"6m"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],selected:2},series:[{name:"Data Point",data:e}]});var t=[],o=[];console.log(e.slice(0,100));for(var s=new Date(e[0][0]),i=new Date(e[e.length-1][0]),m=i.getFullYear(),d=s.getFullYear(),r=m-d,u=d;m>u;u++){t.push({id:"id_"+u,name:"Data of "+u,value:12,max:4321.241,min:1932.49,average:3284.531,dataLabels:{enabled:!0,format:'<span style="; text-shadow:none">Complete Data of<br><span style=";color:red;text-shadow:none">'+u+"</span></span>",verticalAlign:"middle"}});for(var b=1;4>=b;b++)t.push({id:"id_"+u+"_"+b,parent:"id_"+u,name:"Data of "+u+" "+b,value:1})}console.log(t.length);for(var c=d;m>c;c++)o.push([Date.UTC(c,0,0,0),12]);angular.element("#container2").highcharts("StockChart",{chart:{animation:!0},tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{point.name}</span><br>| <b>Max: </b>{point.max}<br>| <b>Min: </b>{point.min}<br>| <b>Average: </b>{point.average}',borderColor:"#3A8AD3",borderRadius:5},rangeSelector:{buttons:[{type:"millisecond",count:100/r*1,text:"1 item"},{type:"millisecond",count:100/r*2,text:"2 item"},{type:"millisecond",count:100/r*4,text:"4 items"},{type:"millisecond",count:100/r*8,text:"8 items"},{type:"millisecond",count:100/r*10,text:"10 items"}],selected:4},navigator:{enabled:!1,adaptToUpdatedData:!1,xAxis:{floor:0,ceiling:100,dateTimeLabelFormats:{millisecond:"%L",day:"%L"}}},xAxis:{events:{afterSetExtremes:function(){console.log(this)}}},plotOptions:{series:{dataGrouping:{enabled:!1}},treemap:{states:{hover:{enabled:!1}}}},series:[{type:"treemap",layoutAlgorithm:"stripes",allowDrillToNode:!0,dataLabels:{enabled:!1},levelIsConstant:!1,levels:[{level:1,dataLabels:{enabled:!0,style:{fontSize:"1.3em"}},borderWidth:3,borderColor:"white",color:"black"},{level:2,borderColor:"#3A8AD3"}],data:t}],subtitle:{text:"Data Table"},title:{text:"58-B9-E1-F1-87-89"}});for(var p=[],C=0;100>C;C++){var g=new Date(e[C][0]);p.push([g.toUTCString(),e[C][1]])}l.tableData=p,l.loading=!1}),a.on("displayResponse",function(e){console.log(e),n.highcharts().series[0].setData(e),n.highcharts().hideLoading();for(var t=[],a=0;100>a;a++){var o=new Date(e[a][0]);t.push([o.toUTCString(),e[a][1]])}l.tableData=t})}function t(e,t,a,l,n,o){function s(){void 0===l.getObject("dataItemListTableColumns")&&l.putObject("dataItemListTableColumns",p.dataItemListTableColumns),p.dataItemListTableColumns=l.getObject("dataItemListTableColumns"),p.avaliableTableColumns=l.getObject("avaliableTableColumns")||[],n.emit("requestDataItemList"),p.promiseToSolve=t(function(){for(var e=!1,t=0;t<p.alerts.length;t++)"Loading Importer List Failed. Please Check Your Internet Connection."===p.alerts[t].msg&&(e=!0);e||p.alerts.push({type:"danger",msg:"Loading Importer List Failed. Please Check Your Internet Connection."}),p.systemStatus="Error"},5e3)}function i(e,t){0!==p.avaliableTableColumns.length&&(p.dataItemListTableColumns[e.index-1].status=!0,p.avaliableTableColumns.splice(t,1),l.putObject("dataItemListTableColumns",p.dataItemListTableColumns),l.putObject("avaliableTableColumns",p.avaliableTableColumns))}function m(e,t,a){if(console.log(t),13===e.keyCode)if(t.index===t.newIndex)p.addTableColumn(t,a);else{t.newIndex>p.dataItemListTableColumns.length&&(t.newIndex=p.dataItemListTableColumns.length),t.newIndex<1&&(t.newIndex=1),p.dataItemListTableColumns[t.index-1].index=t.newIndex-1,p.dataItemListTableColumns[t.newIndex-1].index=t.index-1;var n=p.dataItemListTableColumns[t.index-1];p.dataItemListTableColumns[t.index-1]=p.dataItemListTableColumns[t.newIndex-1],p.dataItemListTableColumns[t.newIndex-1]=n,t.index=t.newIndex,console.log(t),console.log(p.avaliableTableColumns),console.log(p.dataItemListTableColumns),p.addTableColumn(t,a)}l.putObject("dataItemListTableColumns",p.dataItemListTableColumns),l.putObject("avaliableTableColumns",p.avaliableTableColumns)}function d(e){for(var t=e-1;t>=0;t--)if(p.dataItemListTableColumns[t].status){var a=p.dataItemListTableColumns[e];a.index=t,p.dataItemListTableColumns[t].index=e,p.dataItemListTableColumns[e]=p.dataItemListTableColumns[t],p.dataItemListTableColumns[t]=a;break}}function r(e){for(var t=e+1;t<p.dataItemListTableColumns.length;t++)if(p.dataItemListTableColumns[t].status){var a=p.dataItemListTableColumns[e];a.index=t,p.dataItemListTableColumns[t].index=e,p.dataItemListTableColumns[e]=p.dataItemListTableColumns[t],p.dataItemListTableColumns[t]=a;break}}function u(e){p.dataItemListTableColumns[e].status=!1,p.avaliableTableColumns.push({index:e+1,value:p.dataItemListTableColumns[e].name,newIndex:e+1}),console.log(p.avaliableTableColumns),l.putObject("dataItemListTableColumns",p.dataItemListTableColumns),l.putObject("avaliableTableColumns",p.avaliableTableColumns)}function b(){angular.element(".js-layout").toggleClass("hidden")}function c(){o.EnterSearchMode("dave-data-item-display-list-page","<dave-data-item-display-list-page></dave-data-item-display-list-page>",".dataItemDisplayContainer",e,a)}var p=this;p.activate=s,p.addTableColumn=i,p.addTableColumnKeyPress=m,p.decreaseColumnIndex=d,p.increaseColumnIndex=r,p.removeColumn=u,p.toggleLayOutMenu=b,p.toggleSearchMode=c,p.alerts=[],p.avaliableTableColumns=[],p.dataItemList=[],p.dataItemListCurrentPage=1,p.dataItemListTableColumns=[{name:"name",status:!0,index:0},{name:"note",status:!0,index:1},{name:"precision",status:!0,index:2},{name:"unit",status:!0,index:3}],p.promiseToSolve="",p.search={},p.systemStatus="Normal",p.loading=!0,e.$on("socket:ipDataItemListResponse",function(e,a){console.log(e.name),"Normal"===p.systemStatus&&(t.cancel(p.promiseToSolve),1!==a.completeState?p.dataItemList=p.dataItemList.concat(a.list_out):(p.dataItemList=p.dataItemList.concat(a.list_out),p.loading=!1))}),p.activate()}angular.module("Dave2.DataItemDisplay").controller("DataItemDisplayCtrl",e).controller("DaveDataItemDisplayListPageCtrl",t),e.$inject=["$scope","$timeout","DataItemDisplaySocket"],t.$inject=["$scope","$timeout","$compile","$cookies","DataItemDisplaySocket","DirectiveService"]}();